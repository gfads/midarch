# Building app
FROM golang:1.22-alpine3.18 as build
WORKDIR /usr/src/app

# ENV GOPATH /go
# ENV GOROOT /usr/local/go
ENV GMIDARCHDIR /usr/src/app
ENV GMIDARCH /usr/src/app
ENV FDR4 /usr/local/fdr4/bin
# RUN go env -w GO111MODULE=on

COPY go.mod go.sum ./
RUN go mod download && go mod verify

COPY ./examples ./examples
COPY ./pkg ./pkg

RUN go build -v -o /usr/local/bin/app <gofile.path>

CMD ["app"]

